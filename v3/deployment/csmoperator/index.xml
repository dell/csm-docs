<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dell Technologies â€“ CSM Operator</title>
    <link>https://dell.github.io/csm-docs/v3/deployment/csmoperator/</link>
    <description>Recent content in CSM Operator on Dell Technologies</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    
	  <atom:link href="https://dell.github.io/csm-docs/v3/deployment/csmoperator/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V3: CSI Drivers</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmoperator/drivers/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmoperator/drivers/</guid>
      <description>
        
        
        &lt;h2 id=&#34;pre-requisites-for-installation-of-the-csi-drivers&#34;&gt;Pre-requisites for installation of the CSI Drivers&lt;/h2&gt;
&lt;p&gt;On Upstream Kubernetes clusters, ensure that to install&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VolumeSnapshot CRDs - Install v1 VolumeSnapshot CRDs&lt;/li&gt;
&lt;li&gt;External Volume Snapshot Controller&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;volume-snapshot-crds&#34;&gt;Volume Snapshot CRD&amp;rsquo;s&lt;/h3&gt;
&lt;p&gt;The Kubernetes Volume Snapshot CRDs can be obtained and installed from the external-snapshotter project on Github. Manifests are available &lt;a href=&#34;https://github.com/kubernetes-csi/external-snapshotter/tree/v6.2.1/client/config/crd&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;volume-snapshot-controller&#34;&gt;Volume Snapshot Controller&lt;/h3&gt;
&lt;p&gt;The CSI external-snapshotter sidecar is split into two controllers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A common snapshot controller&lt;/li&gt;
&lt;li&gt;A CSI external-snapshotter sidecar&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The common snapshot controller must be installed only once in the cluster irrespective of the number of CSI drivers installed in the cluster. On OpenShift clusters, the common snapshot-controller is pre-installed. In the clusters where it is not present, it can be installed using &lt;code&gt;kubectl&lt;/code&gt; and the manifests are available &lt;a href=&#34;https://github.com/kubernetes-csi/external-snapshotter/tree/v6.2.1/deploy/kubernetes/snapshot-controller&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The manifests available on GitHub install the snapshotter image:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://quay.io/repository/k8scsi/csi-snapshotter?tag=v6.2.1&amp;tab=tags&#34;&gt;quay.io/k8scsi/csi-snapshotter:v6.2.1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The CSI external-snapshotter sidecar is still installed along with the driver and does not involve any extra configuration.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;installation-example&#34;&gt;Installation example&lt;/h3&gt;
&lt;p&gt;You can install CRDs and the default snapshot controller by running the following commands:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/kubernetes-csi/external-snapshotter/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;cd&lt;/span&gt; ./external-snapshotter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout release-&amp;lt;your-version&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl create -f client/config/crd
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kubectl create -f deploy/kubernetes/snapshot-controller
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It is recommended to use 6.2.1 version of snapshotter/snapshot-controller.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;installing-csi-driver-via-operator&#34;&gt;Installing CSI Driver via Operator&lt;/h2&gt;
&lt;p&gt;Refer &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/drivers/powerscale/&#34;&gt;PowerScale Driver&lt;/a&gt; to install the driver via Operator &lt;br&gt;
Refer &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/drivers/powerflex/&#34;&gt;PowerFlex Driver&lt;/a&gt; to install the driver via Operator &lt;br&gt;
Refer &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/drivers/powerstore/&#34;&gt;PowerStore Driver&lt;/a&gt; to install the driver via Operator &lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: If you are using an OLM based installation, example manifests are available in &lt;code&gt;OperatorHub&lt;/code&gt; UI.
You can edit these manifests and install the driver using the &lt;code&gt;OperatorHub&lt;/code&gt; UI.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;verifying-the-driver-installation&#34;&gt;Verifying the driver installation&lt;/h3&gt;
&lt;p&gt;Once the driver &lt;code&gt;Custom Resource (CR)&lt;/code&gt; is created, you can verify the installation as mentioned below&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check if ContainerStorageModule CR is created successfully using the command below:
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ kubectl get csm/&amp;lt;name-of-custom-resource&amp;gt; -n &amp;lt;driver-namespace&amp;gt; -o yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;Check the status of the CR to verify if the driver installation is in the &lt;code&gt;Succeeded&lt;/code&gt; state. If the status is not &lt;code&gt;Succeeded&lt;/code&gt;, see the &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/troubleshooting/#my-dell-csi-driver-install-failed-how-do-i-fix-it&#34;&gt;Troubleshooting guide&lt;/a&gt; for more information.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;update-csi-drivers&#34;&gt;Update CSI Drivers&lt;/h3&gt;
&lt;p&gt;The CSI Drivers and CSM Modules installed by the Dell CSM Operator can be updated like any Kubernetes resource. This can be achieved in various ways which include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Modifying the installation directly via &lt;code&gt;kubectl edit&lt;/code&gt;
For example - If the name of the installed PowerScale driver is powerscale, then run
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# Replace driver-namespace with the namespace where the PowerScale driver is installed
$ kubectl edit csm/powerscale -n &amp;lt;driver-namespace&amp;gt;
&lt;/code&gt;&lt;/pre&gt;and modify the installation&lt;/li&gt;
&lt;li&gt;Modify the API object in-place via &lt;code&gt;kubectl patch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;supported-modifications&#34;&gt;Supported modifications&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Changing environment variable values for driver&lt;/li&gt;
&lt;li&gt;Updating the image of the driver&lt;/li&gt;
&lt;li&gt;Upgrading the driver version&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTES:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If you are trying to upgrade the CSI driver from an older version, make sure to modify the &lt;em&gt;configVersion&lt;/em&gt; field if required.
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;driver&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;configVersion&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;v2.6.0&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Do not try to update the operator by modifying the original &lt;code&gt;CustomResource&lt;/code&gt; manifest file and running the &lt;code&gt;kubectl apply -f&lt;/code&gt; command. As part of the driver installation, the Operator sets some annotations on the &lt;code&gt;CustomResource&lt;/code&gt; object which are further utilized in some workflows (like detecting upgrade of drivers). If you run the &lt;code&gt;kubectl apply -f&lt;/code&gt; command to update the driver, these annotations are overwritten and this may lead to failures.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;uninstall-csi-driver&#34;&gt;Uninstall CSI Driver&lt;/h3&gt;
&lt;p&gt;The CSI Drivers and CSM Modules can be uninstalled by deleting the Custom Resource.&lt;/p&gt;
&lt;p&gt;For e.g.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ kubectl delete csm/powerscale -n &amp;lt;driver-namespace&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;By default, the &lt;code&gt;forceRemoveDriver&lt;/code&gt; option is set to &lt;code&gt;true&lt;/code&gt; which will uninstall the CSI Driver and CSM Modules when the Custom Resource is deleted. Setting this option to &lt;code&gt;false&lt;/code&gt; is not recommended.&lt;/p&gt;
&lt;h3 id=&#34;sidecars&#34;&gt;SideCars&lt;/h3&gt;
&lt;p&gt;Although the sidecars field in the driver specification is optional, it is &lt;strong&gt;strongly&lt;/strong&gt; recommended to not modify any details related to sidecars provided (if present) in the sample manifests. The only exception to this is modifications requested by the documentation, for example, filling in blank IPs or other such system-specific data. Any modifications not specifically requested by the documentation should be only done after consulting with Dell support.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>V3: CSM Modules</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmoperator/modules/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmoperator/modules/</guid>
      <description>
        
        
        &lt;p&gt;The CSM Operator can optionally enable modules that are supported by the specific Dell CSI driver. By default, the modules are disabled but they can be enabled by setting any pre-requisite configuration options for the given module and setting the enabled flag to true  in the custom resource.
The steps include:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Deploy the Dell CSM Operator (if it is not already deployed). Please follow the instructions available &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/#installation&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Configure any pre-requisite for the desired module(s). See the specific module below for more information&lt;/li&gt;
&lt;li&gt;Follow the instructions to install the Dell CSI Driver (such as &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/drivers/powerscale/#install-driver&#34;&gt;PowerScale&lt;/a&gt; or &lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/drivers/powerflex/#install-driver&#34;&gt;PowerFlex&lt;/a&gt;) via the CSM Operator. The module section in the ContainerStorageModule CR should be updated to enable the desired module(s). There are &lt;a href=&#34;https://github.com/dell/csm-operator/tree/main/samples&#34;&gt;sample manifests&lt;/a&gt; provided which can be edited to do an easy installation of the driver along with the module.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>V3: Troubleshooting</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmoperator/troubleshooting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmoperator/troubleshooting/</guid>
      <description>
        
        
        &lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/troubleshooting/#can-csm-operator-manage-existing-drivers-installed-using-helm-charts-or-the-dell-csi-operator&#34;&gt;Can CSM Operator manage existing drivers installed using Helm charts or the Dell CSI Operator?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/troubleshooting/#why-does-some-of-the-custom-resource-fields-show-up-as-invalid-or-unsupported-in-the-operatorhub-gui&#34;&gt;Why does some of the Custom Resource fields show up as invalid or unsupported in the OperatorHub GUI?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/troubleshooting/#how-can-i-view-detailed-logs-for-the-csm-operator&#34;&gt;How can I view detailed logs for the CSM Operator?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dell.github.io/csm-docs/csm-docs/v3/deployment/csmoperator/troubleshooting/#my-dell-csi-driver-install-failed-how-do-i-fix-it&#34;&gt;My Dell CSI Driver install failed. How do I fix it?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;can-csm-operator-manage-existing-drivers-installed-using-helm-charts-or-the-dell-csi-operator&#34;&gt;Can CSM Operator manage existing drivers installed using Helm charts or the Dell CSI Operator?&lt;/h3&gt;
&lt;p&gt;The Dell CSM Operator is unable to manage any existing driver installed using Helm charts or the Dell CSI Operator. If you already have installed one of the Dell CSI driver in your cluster and  want to use the CSM operator based deployment, uninstall the driver and then redeploy the driver via Dell CSM Operator&lt;/p&gt;
&lt;h3 id=&#34;why-does-some-of-the-custom-resource-fields-show-up-as-invalid-or-unsupported-in-the-operatorhub-gui&#34;&gt;Why does some of the Custom Resource fields show up as invalid or unsupported in the OperatorHub GUI?&lt;/h3&gt;
&lt;p&gt;The Dell CSM Operator is not fully compliant with the OperatorHub React UI elements.Due to this, some of the Custom Resource fields may show up as invalid or unsupported in the OperatorHub GUI. To get around this problem, use &lt;code&gt;kubectl/oc&lt;/code&gt; commands to get details about the Custom Resource(CR). This issue will be fixed in the upcoming releases of the Dell CSM Operator.&lt;/p&gt;
&lt;h3 id=&#34;how-can-i-view-detailed-logs-for-the-csm-operator&#34;&gt;How can I view detailed logs for the CSM Operator?&lt;/h3&gt;
&lt;p&gt;Detailed logs of the CSM Operator can be displayed using the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kubectl logs &amp;lt;csm-operator-controller-podname&amp;gt; -n &amp;lt;namespace&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;my-dell-csi-driver-install-failed-how-do-i-fix-it&#34;&gt;My Dell CSI Driver install failed. How do I fix it?&lt;/h3&gt;
&lt;p&gt;Describe the current state by issuing:
&lt;code&gt;kubectl describe csm &amp;lt;custom-resource-name&amp;gt; -n &amp;lt;namespace&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In the output refer to the status and events section. If status shows pods that are in the failed state, refer to the CSI Driver Troubleshooting guide.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Status:
	Controller Status:
	Available: 0
	Desired: 2
	Failed: 2
	Node Status:
	Available: 0
	Desired: 2
	Failed: 2
	State: Failed

Events
	Warning Updated 67s (x15 over 2m4s) csm (combined from similar events): at 1646848059520359167 Pod error details ControllerError: ErrImagePull= pull access denied for dellem/csi-isilon, repository does not exist or may require &amp;#39;docker login&amp;#39;: denied: requested access to the resource is denied, Daemonseterror: ErrImagePull= pull access denied for dellem/csi-isilon, repository does not exist or may require &amp;#39;docker login&amp;#39;: denied: requested access to the resource is denied
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The above event shows dellem/csi-isilon does not exist, to resolve this user can kubectl edit the csm and update to correct image.&lt;/p&gt;
&lt;p&gt;To get details of driver installation: &lt;code&gt;kubectl logs &amp;lt;dell-csm-operator-controller-manager-pod&amp;gt; -n dell-csm-operator&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Typical reasons for errors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Incorrect driver version&lt;/li&gt;
&lt;li&gt;Incorrect driver type&lt;/li&gt;
&lt;li&gt;Incorrect driver Spec env, args for containers&lt;/li&gt;
&lt;li&gt;Incorrect RBAC permissions&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>V3: Release notes</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmoperator/release/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmoperator/release/</guid>
      <description>
        
        
        &lt;h2 id=&#34;release-notes---container-storage-modules-operator-v110&#34;&gt;Release Notes - Container Storage Modules Operator v1.1.0&lt;/h2&gt;
&lt;h3 id=&#34;new-featureschanges&#34;&gt;New Features/Changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/dell/csm/issues/613&#34;&gt;Added support for CSI PowerStore Driver&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/dell/csm/issues/597&#34;&gt;Added support for Kubernetes 1.26&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;fixed-issues&#34;&gt;Fixed Issues&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/dell/csm/issues/633&#34;&gt;Fix for CSM Authorization CRD in the CSM Operator not able to custom configurations&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;known-issues&#34;&gt;Known Issues&lt;/h3&gt;
&lt;p&gt;CSM object does not track available deployment count when down scaling to n-1 , where n is number of nodes.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
