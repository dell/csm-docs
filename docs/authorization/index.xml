<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dell Technologies â€“ Authorization</title>
    <link>https://dell.github.io/csm-docs/docs/authorization/</link>
    <description>Recent content in Authorization on Dell Technologies</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    
	  <atom:link href="https://dell.github.io/csm-docs/docs/authorization/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: Authorization - v1.x GA</title>
      <link>https://dell.github.io/csm-docs/docs/authorization/v1.x-ga/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/docs/authorization/v1.x-ga/</guid>
      <description>
        
        
        &lt;p&gt;The following diagram shows a high-level overview of CSM for Authorization with a &lt;code&gt;tenant-app&lt;/code&gt; that is using a CSI driver to perform storage operations through the CSM for Authorization &lt;code&gt;proxy-server&lt;/code&gt; to access the a Dell storage system. All requests from the CSI driver will contain the token for the given tenant that was granted by the Storage Administrator.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./karavi-authorization-example.png&#34; alt=&#34;CSM for Authorization&#34; title=&#34;CSM for Authorization&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;csm-for-authorization-capabilities&#34;&gt;CSM for Authorization Capabilities&lt;/h2&gt;





&lt;table class=&#34;table table-striped table-bordered table-sm&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Feature&lt;/th&gt;
&lt;th&gt;PowerFlex&lt;/th&gt;
&lt;th&gt;PowerMax&lt;/th&gt;
&lt;th&gt;PowerScale&lt;/th&gt;
&lt;th&gt;Unity XT&lt;/th&gt;
&lt;th&gt;PowerStore&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Ability to set storage quota limits to ensure k8s tenants are not overconsuming storage&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No (natively supported)&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to create access control policies to ensure k8s tenant clusters are not accessing storage that does not belong to them&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No (natively supported)&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to shield storage credentials from Kubernetes administrators ensuring credentials are only handled by storage admins&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; PowerScale OneFS implements its own form of Role-Based Access Control (RBAC). CSM for Authorization does not enforce any role-based restrictions for PowerScale. To configure RBAC for PowerScale, refer to the PowerScale OneFS &lt;a href=&#34;https://www.dell.com/support/home/en-us/product-support/product/isilon-onefs/docs&#34;&gt;documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;authorization-components-support-matrix&#34;&gt;Authorization Components Support Matrix&lt;/h2&gt;
&lt;p&gt;CSM for Authorization consists of 2 components - The authorization sidecar, bundled with the driver, communicates with the Authorization proxy server to validate access to Storage platforms. The authorization sidecar is backward compatible with older Authorization proxy server versions. However, it is highly recommended to have the Authorization proxy server and sidecar installed from the same release of CSM.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If the deployed CSI driver has a number of controller pods equal to the number of schedulable nodes in your cluster, CSM for Authorization may not be able to inject properly into the driver&amp;rsquo;s controller pod.
To resolve this, please refer to our &lt;a href=&#34;./troubleshooting&#34;&gt;troubleshooting guide&lt;/a&gt; on the topic.&lt;/p&gt;
&lt;h2 id=&#34;roles-and-responsibilities&#34;&gt;Roles and Responsibilities&lt;/h2&gt;
&lt;p&gt;The CSM for Authorization CLI can be executed in the context of the following roles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Storage Administrators&lt;/li&gt;
&lt;li&gt;Kubernetes Tenant Administrators&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;storage-administrators&#34;&gt;Storage Administrators&lt;/h3&gt;
&lt;p&gt;Storage Administrators can perform the following operations within CSM for Authorization&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tenant Management (create, get, list, delete, bind roles, unbind roles)&lt;/li&gt;
&lt;li&gt;Token Management (generate, revoke)&lt;/li&gt;
&lt;li&gt;Storage System Management (create, get, list, update, delete)&lt;/li&gt;
&lt;li&gt;Storage Access Roles Management (assign to a storage system with an optional quota)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tenant-administrators&#34;&gt;Tenant Administrators&lt;/h3&gt;
&lt;p&gt;Tenants of CSM for Authorization can use the token provided by the Storage Administrators in their storage requests.&lt;/p&gt;
&lt;h3 id=&#34;workflow&#34;&gt;Workflow&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Tenant Admin requests storage from a Storage Admin.&lt;/li&gt;
&lt;li&gt;Storage Admin uses CSM Authorization CLI to:&lt;br&gt;
a) Create a tenant resource.&lt;br&gt;
b) Create a role permitting desired storage access.&lt;br&gt;
c) Assign the role to the tenant and generate a token.&lt;br&gt;&lt;/li&gt;
&lt;li&gt;Storage Admin returns a token to the Tenant Admin.&lt;/li&gt;
&lt;li&gt;Tenant Admin inputs the Token into their Kubernetes cluster as a Secret.&lt;/li&gt;
&lt;li&gt;Tenant Admin updates CSI driver with CSM Authorization sidecar module.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;./design2.png&#34; alt=&#34;CSM for Authorization Workflow&#34; title=&#34;CSM for Authorization Workflow&#34;&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Authorization - v2.0 Tech Preview</title>
      <link>https://dell.github.io/csm-docs/docs/authorization/v2.0-tech-preview/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/docs/authorization/v2.0-tech-preview/</guid>
      <description>
        
        
        &lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: This tech-preview release is not intended for use in production environment.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: Only supported on PowerFlex.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following diagram shows a high-level overview of CSM for Authorization with a &lt;code&gt;tenant-app&lt;/code&gt; that is using a CSI driver to perform storage operations through the CSM for Authorization &lt;code&gt;proxy-server&lt;/code&gt; to access the a Dell storage system. All requests from the CSI driver will contain the token for the given tenant that was granted by the Storage Administrator.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image.png&#34; alt=&#34;Alt text&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is the introduction to a Stateless Architecture for Authorization. The creation of storage, roles, and tenants is done through Custom Resources (CRs) which are tracked and contained within CSM Authorization. The underlying communication is consistent with the previous architecture which makes the creation of volumes and snapshots seamless.&lt;/p&gt;
&lt;h2 id=&#34;csm-for-authorization-capabilities&#34;&gt;CSM for Authorization Capabilities&lt;/h2&gt;





&lt;table class=&#34;table table-striped table-bordered table-sm&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Feature&lt;/th&gt;
&lt;th&gt;PowerFlex&lt;/th&gt;
&lt;th&gt;PowerMax&lt;/th&gt;
&lt;th&gt;PowerScale&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Ability to set storage quota limits to ensure k8s tenants are not overconsuming storage&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to create access control policies to ensure k8s tenant clusters are not accessing storage that does not belong to them&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to shield storage credentials from Kubernetes administrators by storing them in vault&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to create snapshots from owned volumes that consume the storage quota&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ability to periodically query storage array to keep quota consumption in sync&lt;/td&gt;
&lt;td&gt;Yes&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;h3 id=&#34;snapshot-support&#34;&gt;Snapshot Support&lt;/h3&gt;
&lt;p&gt;As stated above, all snapshot requests that are associated with a volume that has been approved and created will go through a similar authorization processes ensuring that the snapshot fits within the allotted quota.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;apiVersion&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;snapshot.storage.k8s.io/v1&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;kind&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;VolumeSnapshot&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;metadata&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;vol1-snapshot&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;spec&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;volumeSnapshotClassName&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;vxflexos-snapclass&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;source&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;persistentVolumeClaimName&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;vol1&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will take a snapshot of the &lt;code&gt;persistent volume claim&lt;/code&gt; named &lt;code&gt;vol1&lt;/code&gt;. CSM Authorization will verify ownership with Redis to ensure that the tenant who is attempting to create the snapshot owns the &lt;code&gt;vol1&lt;/code&gt; volume. If the tenant does own the volume, authorization will proceed to check to see if the snapshot fits within the allotted quota and add a record if it does.&lt;/p&gt;
&lt;h3 id=&#34;backend-storage-polling&#34;&gt;Backend Storage Polling&lt;/h3&gt;
&lt;p&gt;A configurable polling mechanism has been introduced to ensure that the tenant and Redis are always in sync with the backend storage configured. This is determined by the &lt;a href=&#34;configuration/proxy-server/#configuring-tenants&#34;&gt;volumePrefix&lt;/a&gt; specified for the &lt;code&gt;tenant&lt;/code&gt;. During polling, for each of the tenants and roles, the storage service will ensure that nothing has been removed or added by the storage admin which would lead to Redis being out of sync.&lt;/p&gt;
&lt;p&gt;If a volume is created with the matching &lt;code&gt;volumePrefix&lt;/code&gt;, the new entry will be added to Redis and the available quota will be consumed accordingly. Similarly, if a snapshot is created from a volume that is owned by the tenant in the backend storage array, that will be added to Redis.&lt;/p&gt;
&lt;p&gt;Lastly, if there is any deletion on the backend storage array of a volume or snapshot that is owned by the tenant, that entry will be deleted from Redis and the available capacity will reflect accordingly.&lt;/p&gt;
&lt;h2 id=&#34;roles-and-responsibilities&#34;&gt;Roles and Responsibilities&lt;/h2&gt;
&lt;p&gt;The Stateless CSM Authorization contains the following roles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Storage Administrators&lt;/li&gt;
&lt;li&gt;Kubernetes Tenant Administrators&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;storage-administrators&#34;&gt;Storage Administrators&lt;/h3&gt;
&lt;p&gt;Storage Administrators perform the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Storage System Management (create, get, delete)&lt;/li&gt;
&lt;li&gt;Role Management (create, get, delete)&lt;/li&gt;
&lt;li&gt;Tenant Management (create, get, delete)&lt;/li&gt;
&lt;li&gt;Token Management (create, revoke)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For more information on the configuration of the above, see the configuration of the &lt;a href=&#34;../v2.0-tech-preview/configuration/proxy-server/#configuring-storage&#34;&gt;Proxy Server&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;tenant-administrators&#34;&gt;Tenant Administrators&lt;/h3&gt;
&lt;p&gt;Tenants of CSM for Authorization can use the token provided by the Storage Administrators in their storage requests.&lt;/p&gt;
&lt;p&gt;For more information on how to use the token and configuration, see configuration for the &lt;a href=&#34;../v2.0-tech-preview/configuration/powerflex&#34;&gt;PowerFlex driver&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
