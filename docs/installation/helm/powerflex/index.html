<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.72.0" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="icon" type="image/png" href="/storage-plugin-docs/favicons/favicon-16x16.png" sizes="16x16">

<title>PowerFlex | Dell Technologies</title><meta property="og:title" content="PowerFlex" />
<meta property="og:description" content="Installing PowerFlex CSI Driver via Helm
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dell.github.io/storage-plugin-docs/docs/installation/helm/powerflex/" />
<meta property="article:modified_time" content="2021-04-13T01:41:05+05:30" /><meta property="og:site_name" content="Dell Technologies" />
<meta itemprop="name" content="PowerFlex">
<meta itemprop="description" content="Installing PowerFlex CSI Driver via Helm
">
<meta itemprop="dateModified" content="2021-04-13T01:41:05&#43;05:30" />
<meta itemprop="wordCount" content="2233">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PowerFlex"/>
<meta name="twitter:description" content="Installing PowerFlex CSI Driver via Helm
"/>





<link rel="preload" href="/storage-plugin-docs/scss/main.min.3011491d21ab91352e3e45bb211e969f3729963f1a8f20361dbdb7430e40188c.css" as="style">
<link href="/storage-plugin-docs/scss/main.min.3011491d21ab91352e3e45bb211e969f3729963f1a8f20361dbdb7430e40188c.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/storage-plugin-docs/">
		<span class="navbar-logo"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1017 132"><defs><style>.cls-1{fill:#fff}</style></defs><title>DellTech_Logo_Prm_Wht_rgb</title><path class="cls-1" d="M1015 84.89c0-12.23-6.8-17.66-20.39-20.38s-21.73-4.08-21.73-13.58c0-6.8 5.44-10.87 15-10.87 12.22.0 16.3 5.43 16.3 12.22l1.36 1.36h5.43l1.37-1.36c0-13.58-10.88-19-24.46-19-15 0-23.1 8.15-23.1 17.67.0 10.86 8.15 16.3 21.73 19s20.38 4.08 20.38 15c0 6.79-4.07 12.23-17.66 12.23-12.22.0-17.66-6.8-17.66-15l-1.35-1.36h-5.44l-1.35 1.36c0 12.23 9.5 21.74 25.8 21.74 17.66.0 25.82-8.15 25.82-19M956.58 71.31l1.36-1.37V65.87c0-19-10.87-32.61-29.89-32.61s-29.89 13.59-29.89 32.61v2.72c0 19 9.51 35.32 31.25 35.32 19 0 25.81-12.23 27.17-20.38l-1.36-1.36h-5.43l-1.36 1.36c-2.72 8.15-8.16 13.59-19 13.59-17.66.0-23.1-16.31-23.1-24.46l1.36-1.35zm-8.15-6.8H907.67l-1.36-1.36c0-9.51 5.44-23.09 21.74-23.09s21.74 13.58 21.74 23.09zm-59.78 36.68V36l-1.36-1.35h-5.43L880.5 36v65.22l1.36 1.36h5.43zm0-78.8V14.24l-1.36-1.36h-5.43l-1.36 1.36v8.15l1.36 1.36h5.43zM837 97.12c-13.59.0-21.74-9.52-21.74-28.53S823.44 40.06 837 40.06s21.73 9.5 21.73 28.53S850.61 97.12 837 97.12M858.76 93c0 17.66-4.07 31.25-20.38 31.25-12.22.0-16.3-5.44-17.66-12.23l-1.35-1.36h-5.44l-1.36 1.36c1.36 10.87 9.51 19 25.81 19 17.67.0 28.53-10.87 28.53-38V36l-1.35-1.35h-4.08L860.12 36l-1.36 8.16H857.4c-2.71-5.43-9.5-10.87-21.74-10.87-19 0-28.53 15-28.53 35.33s9.52 35.32 28.53 35.32c12.24.0 19-5.43 21.74-10.87zm-88.3-53c13.58.0 23.09 10.87 23.09 28.53S784 97.12 770.46 97.12s-23.1-10.87-23.1-28.53 9.51-28.53 23.1-28.53m0 63.85c17.66.0 31.25-12.23 31.25-35.32s-13.59-35.33-31.25-35.33-31.25 12.23-31.25 35.33 13.59 35.32 31.25 35.32m-40.76-2.72V8.81l-1.36-1.36h-5.43l-1.36 1.36v92.38l1.36 1.36h5.43zM680.8 40.06c13.58.0 23.09 10.87 23.09 28.53s-9.51 28.53-23.09 28.53-23.1-10.87-23.1-28.53 9.51-28.53 23.1-28.53m0 63.85c17.66.0 31.25-12.23 31.25-35.32S698.46 33.26 680.8 33.26s-31.25 12.23-31.25 35.33 13.59 35.32 31.25 35.32m-39.4-2.72V60.43c0-17.66-9.51-27.17-24.45-27.17-9.52.0-17.67 4.08-21.74 10.87h-1.36L592.49 36l-1.36-1.35h-4.08L585.7 36v65.22l1.35 1.36h5.44l1.36-1.36V64.51c0-15 6.79-24.45 21.73-24.45 10.87.0 17.66 6.79 17.66 20.37v40.76l1.37 1.36H640zm-69.29.0V60.43c0-17.66-9.51-27.17-24.45-27.17-9.52.0-17.66 4.08-21.74 10.87h-1.36V8.81L523.2 7.45h-5.43l-1.36 1.36v92.38l1.36 1.36h5.43l1.36-1.36V64.51c0-15 6.8-24.45 21.74-24.45 10.87.0 17.66 6.79 17.66 20.37v40.76l1.36 1.36h5.44zM455.28 68.59c0-19 9.5-28.53 23.09-28.53s19 8.15 20.38 16.29l1.35 1.37h5.44l1.36-1.37c-1.36-13.58-12.23-23.09-28.53-23.09-17.66.0-31.24 10.87-31.24 35.33s13.58 35.32 31.24 35.32c16.3.0 27.17-9.51 28.53-23.1l-1.36-1.36H500.1l-1.35 1.36C497.39 89 492 97.12 478.37 97.12s-23.09-9.52-23.09-28.53m-14.95 2.72 1.36-1.37V65.87c0-19-10.87-32.61-29.9-32.61s-29.88 13.59-29.88 32.61v2.72c0 19 9.51 35.32 31.25 35.32 19 0 25.81-12.23 27.17-20.38L439 82.17h-5.43l-1.36 1.36c-2.72 8.15-8.15 13.59-19 13.59-17.66.0-23.1-16.31-23.1-24.46l1.36-1.35zm-8.15-6.8H391.42l-1.36-1.36c0-9.51 5.44-23.09 21.73-23.09s21.75 13.58 21.75 23.09zM395.57 12.88V8.81l-1.36-1.36H323.56L322.2 8.81v4.07l1.36 1.36h29.89l1.36 1.36v85.59l1.36 1.36h5.43l1.36-1.36V15.6l1.36-1.36h29.89z"/><path class="cls-1" d="M322.2 83.65v18.9H260.85V7.45h21.6v76.2zM38.55 102.55A47.57 47.57.0 0084.58 67l53.8 42 53.77-42v35.56H253.5V83.65H213.75V7.45h-21.6V43L140.58 83.3l-11.54-9L153.73 55l26.89-21L165.27 22 113.69 62.3l-11.53-9L153.73 13 138.38 1 84.58 43a47.57 47.57.0 00-46-35.58H0v95.1zM21.6 83.65V26.35H38.55c14.33.0 26 12.83 26 28.65S52.88 83.65 38.55 83.65z"/></svg></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/storage-plugin-docs/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/storage-plugin-docs/blog/" ><span>Blog</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/storage-plugin-docs/offline-search-index.5babb98b2607f9cb26b00aea0f7c2e9b.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center d-lg-none">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/storage-plugin-docs/offline-search-index.5babb98b2607f9cb26b00aea0f7c2e9b.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="storage-plugin-docsdocs">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/dell-csi-driver/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsdell-csi-driver">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/installation/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Installation</a>
  </li>
  <ul>
    <li class="collapse show" id="storage-plugin-docsdocsinstallation">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/installation/helm/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Using Helm</a>
  </li>
  <ul>
    <li class="collapse show" id="storage-plugin-docsdocsinstallationhelm">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page  active" id="m-storage-plugin-docsdocsinstallationhelmpowerflex" href="/storage-plugin-docs/docs/installation/helm/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationhelmpowermax" href="/storage-plugin-docs/docs/installation/helm/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationhelmisilon" href="/storage-plugin-docs/docs/installation/helm/isilon/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationhelmpowerstore" href="/storage-plugin-docs/docs/installation/helm/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationhelmunity" href="/storage-plugin-docs/docs/installation/helm/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/installation/operator/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Using Operator</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsinstallationoperator">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorinstalldriver" href="/storage-plugin-docs/docs/installation/operator/installdriver/"></a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorpowerflex" href="/storage-plugin-docs/docs/installation/operator/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorpowermax" href="/storage-plugin-docs/docs/installation/operator/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorisilon" href="/storage-plugin-docs/docs/installation/operator/isilon/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorpowerstore" href="/storage-plugin-docs/docs/installation/operator/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationoperatorunity" href="/storage-plugin-docs/docs/installation/operator/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/installation/offline/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Offline Installer</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsinstallationoffline">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/installation/test/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Testing Drivers</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsinstallationtest">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationtestpowerflex" href="/storage-plugin-docs/docs/installation/test/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationtestpowermax" href="/storage-plugin-docs/docs/installation/test/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationtestpowerscale" href="/storage-plugin-docs/docs/installation/test/powerscale/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationtestpowerstore" href="/storage-plugin-docs/docs/installation/test/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsinstallationtestunity" href="/storage-plugin-docs/docs/installation/test/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/uninstall/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Uninstallation</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsuninstall">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/upgradation/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Upgrade</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsupgradation">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriversoperator" href="/storage-plugin-docs/docs/upgradation/drivers/operator/">Dell CSI Operator</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriverspowerflex" href="/storage-plugin-docs/docs/upgradation/drivers/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriverspowermax" href="/storage-plugin-docs/docs/upgradation/drivers/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriversisilon" href="/storage-plugin-docs/docs/upgradation/drivers/isilon/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriverspowerstore" href="/storage-plugin-docs/docs/upgradation/drivers/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsupgradationdriversunity" href="/storage-plugin-docs/docs/upgradation/drivers/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/features/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Features</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsfeatures">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsfeaturespowerflex" href="/storage-plugin-docs/docs/features/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsfeaturespowermax" href="/storage-plugin-docs/docs/features/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsfeaturespowerscale" href="/storage-plugin-docs/docs/features/powerscale/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsfeaturespowerstore" href="/storage-plugin-docs/docs/features/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsfeaturesunity" href="/storage-plugin-docs/docs/features/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/troubleshooting/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Troubleshooting</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocstroubleshooting">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingoperator" href="/storage-plugin-docs/docs/troubleshooting/operator/">Dell CSI Operator</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingpowerflex" href="/storage-plugin-docs/docs/troubleshooting/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingpowermax" href="/storage-plugin-docs/docs/troubleshooting/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingpowerscale" href="/storage-plugin-docs/docs/troubleshooting/powerscale/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingpowerstore" href="/storage-plugin-docs/docs/troubleshooting/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocstroubleshootingunity" href="/storage-plugin-docs/docs/troubleshooting/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/release/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Release Notes</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsrelease">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleaseoperator" href="/storage-plugin-docs/docs/release/operator/">Operator</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleasepowerflex" href="/storage-plugin-docs/docs/release/powerflex/">PowerFlex</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleasepowermax" href="/storage-plugin-docs/docs/release/powermax/">PowerMax</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleasepowerscale" href="/storage-plugin-docs/docs/release/powerscale/">PowerScale</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleasepowerstore" href="/storage-plugin-docs/docs/release/powerstore/">PowerStore</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsreleaseunity" href="/storage-plugin-docs/docs/release/unity/">Unity</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/grasp/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Learn</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsgrasp">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsgraspstart" href="/storage-plugin-docs/docs/grasp/start/">Getting Started</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocsgraspvideo" href="/storage-plugin-docs/docs/grasp/video/">Quick video lessons</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsconcepts">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/partners/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Our Ecosystem Partners</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocspartners">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocspartnersoperator" href="/storage-plugin-docs/docs/partners/operator/">OperatorHub.io</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocspartnersredhat" href="/storage-plugin-docs/docs/partners/redhat/">Red Hat OpenShift</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-storage-plugin-docsdocspartnersdocker" href="/storage-plugin-docs/docs/partners/docker/">Docker EE</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/storage-plugin-docs/docs/archives/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Archives</a>
  </li>
  <ul>
    <li class="collapse " id="storage-plugin-docsdocsarchives">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            



<nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a>
      <ul>
        <li><a href="#install-helm-30">Install Helm 3.0</a></li>
        <li><a href="#enable-zero-padding-on-powerflex">Enable Zero Padding on PowerFlex</a></li>
        <li><a href="#configure-mount-propagation-on-container-runtime">Configure Mount Propagation on Container Runtime</a></li>
        <li><a href="#install-powerflex-storage-data-client">Install PowerFlex Storage Data Client</a></li>
        <li><a href="#volume-snapshot-requirements">Volume Snapshot Requirements</a></li>
      </ul>
    </li>
    <li><a href="#install-the-driver">Install the Driver</a></li>
    <li><a href="#storage-classes">Storage Classes</a>
      <ul>
        <li><a href="#what-happens-to-my-existing-storage-classes">What happens to my existing storage classes?</a></li>
      </ul>
    </li>
  </ul>
</nav>




          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://dell.github.io/storage-plugin-docs/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://dell.github.io/storage-plugin-docs/docs/installation/">Installation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://dell.github.io/storage-plugin-docs/docs/installation/helm/">Using Helm</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://dell.github.io/storage-plugin-docs/docs/installation/helm/powerflex/">PowerFlex</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>PowerFlex</h1>

	       
	<p>The CSI Driver for Dell EMC PowerFlex can be deployed by using the provided Helm v3 charts and installation scripts on both Kubernetes and OpenShift platforms. For more detailed information on the installation scripts, please review the script <a href="https://github.com/dell/csi-powerflex/tree/master/dell-csi-helm-installer">documentation</a>.</p>
<p>The controller section of the Helm chart installs the following components in a <em>Deployment</em> in the namespace <code>vxflexos</code>:</p>
<ul>
<li>CSI Driver for Dell EMC PowerFlex</li>
<li>Kubernetes External Provisioner, which provisions the volumes</li>
<li>Kubernetes External Attacher, which attaches the volumes to the containers</li>
<li>Kubernetes External Snapshotter, which provides snapshot support</li>
<li>Kubernetes External Resizer, which resizes the volume</li>
</ul>
<p>The node section of the Helm chart installs the following component in a <em>DaemonSet</em> in the namespace <code>vxflexos</code>:</p>
<ul>
<li>CSI Driver for Dell EMC PowerFlex</li>
<li>Kubernetes Node Registrar, which handles the driver registration</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<p>The following are requirements that must be met before installing the CSI Driver for Dell EMC PowerFlex:</p>
<ul>
<li>Install Kubernetes or OpenShift (see <a href="../../../dell-csi-driver/">supported versions</a>)</li>
<li>Install Helm 3</li>
<li>Enable Zero Padding on PowerFlex</li>
<li>Configure Mount propagation on container runtime (example: Docker)</li>
<li>Install PowerFlex Storage Data Client</li>
<li>Volume Snapshot requirements</li>
<li>A user must exist on the array with a role <em>&gt;= FrontEndConfigure</em></li>
</ul>
<h3 id="install-helm-30">Install Helm 3.0</h3>
<p>Install Helm 3.0 on the master node before you install the CSI Driver for Dell EMC PowerFlex.</p>
<p><strong>Steps</strong></p>
<p>Run the <code>curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash</code> command to install Helm 3.0.</p>
<h3 id="enable-zero-padding-on-powerflex">Enable Zero Padding on PowerFlex</h3>
<p>Verify that zero padding is enabled on the PowerFlex storage pools that will be used. Use PowerFlex GUI or the PowerFlex CLI to check this setting. See <a href="https://cpsdocs.dellemc.com/bundle/PF_CONF_CUST/page/GUID-D32BDFF7-3014-4894-8E1E-2A31A86D343A.html">Dell EMC PowerFlex documentation</a> for more information to configure this setting.</p>
<h3 id="configure-mount-propagation-on-container-runtime">Configure Mount Propagation on Container Runtime</h3>
<p>It is required to configure mount propagation on your container runtime on all Kubernetes nodes before installing the CSI Driver for Dell EMC PowerFlex. The following is instruction on how to do this with Docker. If you use another container runtime, follow the recommended instructions from the vendor to configure mount propagation.</p>
<p><strong>Steps</strong></p>
<ol>
<li>The service section of <code>/etc/systemd/system/multi-user.target.wants/docker.service</code> needs to be edited in a few places. First, the <code>Requires</code> entry under the <code>[Unit]</code> header needs have <code>docker.service</code> added to it, as shown. Second, <code>MountFlags=shared</code> needs to be added under the <code>[Service]</code> header.
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#ce5c00;font-weight:bold">[</span>Unit<span style="color:#ce5c00;font-weight:bold">]</span>
 ...
 <span style="color:#000">Requires</span><span style="color:#ce5c00;font-weight:bold">=</span>docker.socket containerd.service docker.service

 <span style="color:#ce5c00;font-weight:bold">[</span>Service<span style="color:#ce5c00;font-weight:bold">]</span>
 ...
 <span style="color:#000">MountFlags</span><span style="color:#ce5c00;font-weight:bold">=</span>shared
</code></pre></div></li>
<li>Restart the docker service with <code>systemctl daemon-reload</code> and <code>systemctl restart docker</code> on all the nodes.</li>
</ol>
<p><em>NOTE:</em> Some distribution, like Ubuntu, already has <em>MountFlags</em> set by default.</p>
<h3 id="install-powerflex-storage-data-client">Install PowerFlex Storage Data Client</h3>
<p>The CSI Driver for PowerFlex requires you to have installed the PowerFlex Storage Data Client (SDC) on all Kubernetes nodes which run node portion of CSI driver.
SDC could be installed automatically by CSI driver install on Kubernetes nodes with OS platform which support automatic SDC deployment,
currently Fedora CoreOS (FCOS) and Red Hat CoreOS (RHCOS).
On Kubernetes nodes with OS version not supported by automatic install, you must perform the Manual SDC Deployment steps below.
Refer <a href="https://hub.docker.com/r/dellemc/sdc">https://hub.docker.com/r/dellemc/sdc</a> for supported OS versions.</p>
<h4 id="sdc-deployment">SDC Deployment</h4>
<p>The CSI Driver for PowerFlex requires you to have installed the PowerFlex Storage Data Client (SDC) on all Kubernetes nodes which run node portion of CSI driver. SDC could be installed automatically by CSI driver install on Kubernetes nodes with OS platform which support automatic SDC deployment, currently Fedora CoreOS (FCOS) and Red Hat CoreOS (RHCOS).</p>
<p>On Kubernetes nodes with OS version not supported by automatic install, you must perform the Manual SDC Deployment steps below. Refer <a href="https://hub.docker.com/r/dellemc/sdc">https://hub.docker.com/r/dellemc/sdc</a> for your OS versions.</p>
<p><strong>Optional:</strong> For a typical install, you will pull SDC kernel modules from the Dell EMC ftp site, which is setup by default. Some users might want to mirror this repository to a local location. The PowerFlex KB article (<a href="https://www.dell.com/support/kbdoc/en-us/000184206/how-to-use-a-private-repository-for">https://www.dell.com/support/kbdoc/en-us/000184206/how-to-use-a-private-repository-for</a>) has instructions on how to do this.</p>
<h4 id="manual-sdc-deployment">Manual SDC Deployment</h4>
<p>For detailed PowerFlex installation procedure, see the <em>Dell EMC PowerFlex Deployment Guide</em>. Install the PowerFlex SDC as follows:</p>
<p><strong>Steps</strong></p>
<ol>
<li>Download the PowerFlex SDC from <a href="https://www.dell.com/support">Dell EMC Online support</a>. The filename is EMC-ScaleIO-sdc-*.rpm, where * is the SDC name corresponding to the PowerFlex installation version.</li>
<li>Export the shell variable <em>MDM_IP</em> in a comma-separated list using <code>export MDM_IP=xx.xxx.xx.xx,xx.xxx.xx.xx</code>, where xxx represents the actual IP address in your environment. This list contains the IP addresses of the MDMs.</li>
<li>Install the SDC per the <em>Dell EMC PowerFlex Deployment Guide</em>:
<ul>
<li>For Red Hat Enterprise Linux and Cent OS, run <code>rpm -iv ./EMC-ScaleIO-sdc-*.x86_64.rpm</code>, where * is the SDC name corresponding to the PowerFlex installation version.</li>
</ul>
</li>
<li>To add more MDM_IP for multi-array support, run <code>/opt/emc/scaleio/sdc/bin/drv_cfg --add_mdm --ip 10.xx.xx.xx.xx,10.xx.xx.xx</code></li>
</ol>
<h3 id="volume-snapshot-requirements">Volume Snapshot Requirements</h3>
<h4 id="volume-snapshot-crds">Volume Snapshot CRD&rsquo;s</h4>
<p>The Kubernetes Volume Snapshot CRDs can be obtained and installed from the external-snapshotter project on Github.</p>
<ul>
<li>If on Kubernetes 1.18/1.19 (beta snapshots) use <a href="https://github.com/kubernetes-csi/external-snapshotter/tree/v3.0.3/client/config/crd">v3.0.3</a></li>
<li>If on Kubernetes 1.20 (v1 snapshots) use <a href="https://github.com/kubernetes-csi/external-snapshotter/tree/v4.0.0/client/config/crd">v4.0.0</a></li>
</ul>
<h4 id="volume-snapshot-controller">Volume Snapshot Controller</h4>
<p>Starting with beta Volume Snapshots in Kubernetes 1.17, the CSI external-snapshotter sidecar is split into two controllers:</p>
<ul>
<li>A common snapshot controller</li>
<li>A CSI external-snapshotter sidecar</li>
</ul>
<p>The common snapshot controller must be installed only once in the cluster irrespective of the number of CSI drivers installed in the cluster. On OpenShift clusters 4.4 and later, the common snapshot-controller is pre-installed. In the clusters where it is not present, it can be installed using <code>kubectl</code> and the manifests are available:</p>
<ul>
<li>If on Kubernetes 1.18/1.19 (beta snapshots) use <a href="https://github.com/kubernetes-csi/external-snapshotter/tree/v3.0.3/deploy/kubernetes/snapshot-controller">v3.0.3</a></li>
<li>If on Kubernetes 1.20 (v1 snapshots) use <a href="https://github.com/kubernetes-csi/external-snapshotter/tree/v4.0.0/deploy/kubernetes/snapshot-controller">v4.0.0</a></li>
</ul>
<p><em>NOTE:</em></p>
<ul>
<li>The manifests available on GitHub install the snapshotter image:
<ul>
<li><a href="https://quay.io/repository/k8scsi/csi-snapshotter?tag=v3.0.3&amp;tab=tags">quay.io/k8scsi/csi-snapshotter:v3.0.3</a></li>
<li><a href="https://quay.io/repository/k8scsi/csi-snapshotter?tag=v4.0.0&amp;tab=tags">quay.io/k8scsi/csi-snapshotter:v4.0.0</a></li>
</ul>
</li>
<li>The CSI external-snapshotter sidecar is still installed along with the driver and does not involve any extra configuration.</li>
</ul>
<h2 id="install-the-driver">Install the Driver</h2>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Run <code>git clone https://github.com/dell/csi-powerflex.git</code> to clone the git repository.</p>
</li>
<li>
<p>Ensure that you have created namespace where you want to install the driver. You can run <code>kubectl create namespace vxflexos</code> to create a new one.</p>
</li>
<li>
<p>Check <code>helm/csi-vxflexos/driver-image.yaml</code> and confirm the driver image points to new image.</p>
</li>
<li>
<p>Collect information from the PowerFlex SDC by executing the <code>get_vxflexos_info.sh</code> script located in the top-level helm directory.  This script shows the <em>VxFlex OS system ID</em> and <em>MDM IP</em> addresses. Make a note of the value for these parameters as they must be entered in the <code>config.json</code> file in the top-level directory.</p>
</li>
<li>
<p>Prepare the config.json for driver configuration. The following table lists driver configuration parameters for multiple storage arrays.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>Username for accessing PowerFlex system</td>
<td>true</td>
<td>-</td>
</tr>
<tr>
<td>password</td>
<td>Password for accessing PowerFlex system</td>
<td>true</td>
<td>-</td>
</tr>
<tr>
<td>systemID</td>
<td>System name/ID of PowerFlex system</td>
<td>true</td>
<td>-</td>
</tr>
<tr>
<td>endpoint</td>
<td>REST API gateway HTTPS endpoint for PowerFlex system</td>
<td>true</td>
<td>-</td>
</tr>
<tr>
<td>insecure</td>
<td>Determines if the driver is going to validate certs while connecting to PowerFlex REST API interface</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td>isDefault</td>
<td>An array having isDefault=true is for backward compatibility. This parameter should occur once in the list</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>mdm</td>
<td>mdm defines the MDM(s) that SDC should register with on start. This should be an list of MDM IP addresses or hostnames separated by comma</td>
<td>true</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>Example: config.json</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#000;font-weight:bold">[</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">&#34;username&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;password&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;systemID&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ID1&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;endpoint&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://127.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;insecure&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;isDefault&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;mdm&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;10.0.0.1,10.0.0.2&#34;</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#204a87;font-weight:bold">&#34;username&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;password&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;systemID&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ID2&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;endpoint&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;https://127.0.0.2&#34;</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;insecure&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
        <span style="color:#204a87;font-weight:bold">&#34;mdm&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;10.0.0.3,10.0.0.4&#34;</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">]</span>
</code></pre></div><p>After editing the file, run the following command to create a secret called <code>vxflexos-config</code>
<code>kubectl create secret generic vxflexos-config -n vxflexos --from-file=config=config.json</code></p>
<p>Use the following command to replace or update the secret:</p>
<p><code>kubectl create secret generic vxflexos-config -n vxflexos --from-file=config=config.json -o yaml --dry-run=client | kubectl replace -f -</code></p>
<p><em>NOTE:</em></p>
<ul>
<li>The user needs to validate the JSON syntax and array related key/values while replacing the vxflexos-creds secret.</li>
<li>If you update the secret, you will have to reinstall the driver.</li>
<li>System ID, MDM configuration etc. now are taken directly from config.json, and no longer the values file.</li>
</ul>
</li>
<li>
<p>If using automated SDC deployment:</p>
<ul>
<li>Check the SDC container image is the correct version for your version of PowerFlex.</li>
</ul>
</li>
<li>
<p>Copy the default values.yaml file <code>cd helm &amp;&amp; cp csi-vxflexos/values.yaml myvalues.yaml</code></p>
</li>
<li>
<p>Edit the newly created values file and provide values for the following parameters <code>vi myvalues.yaml</code>:</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>volumeNamePrefix</td>
<td>Set so that volumes created by the driver have a default prefix. If one PowerFlex/VxFlex OS system is servicing several different Kubernetes installations or users, these prefixes help you distinguish them.</td>
<td>No</td>
<td>&ldquo;k8s&rdquo;</td>
</tr>
<tr>
<td>controllerCount</td>
<td>Set to deploy multiple controller instances. If controller count is greater than the number of available nodes, excess pods will be left in pending state. You can increase number of available nodes by configuring the &ldquo;controller&rdquo; section in your values.yaml. For more details on the new controller pod configurations, see the Features section for Powerflex specifics.</td>
<td>Yes</td>
<td>2</td>
</tr>
<tr>
<td>enablelistvolumesnapshot</td>
<td>Set to have snapshots included in the CSI operation ListVolumes. Disabled by default.</td>
<td>No</td>
<td>FALSE</td>
</tr>
<tr>
<td>allowRWOMultiPodAccess</td>
<td>Setting allowRWOMultiPodAccess to &ldquo;true&rdquo; will allow multiple pods on the same node to access the same RWO volume. This behavior conflicts with the CSI specification version 1.3. NodePublishVolume description that requires an error to be returned in this case. However some other CSI drivers support this behavior and some customers desire this behavior. Customers use this option at their own risk.</td>
<td>No</td>
<td>FALSE</td>
</tr>
<tr>
<td><strong>controller</strong></td>
<td>This section allows configuration of controller specific parameters. To maximize the number of available nodes for controller pods, see this section. For more details on the new controller pod configurations, see the <a href="../../../features/powerflex/">Features section</a> for Powerflex specifics.</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>nodeSelector</td>
<td>Defines what nodes would be selected for pods of controller deployment. Leave as blank to use all nodes. Uncomment this section to deploy on master nodes exclusively.</td>
<td>No</td>
<td>&quot; &quot;</td>
</tr>
<tr>
<td>tolerations</td>
<td>Defines tolerations that would be applied to controller deployment. Leave as blank to install controller on worker nodes only. If deploying on master nodes is desired, uncomment out this section.</td>
<td>No</td>
<td>&quot; &quot;</td>
</tr>
<tr>
<td><strong>monitor</strong></td>
<td>This section allows configuration of the SDC monitoring pod.</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>enabled</td>
<td>Set to enable the usage of the monitoring pod.</td>
<td>No</td>
<td>FALSE</td>
</tr>
<tr>
<td>hostNetwork</td>
<td>Set whether the monitor pod should run on the host network or not.</td>
<td>No</td>
<td>TRUE</td>
</tr>
<tr>
<td>hostPID</td>
<td>Set whether the monitor pod should run in the host namespace or not.</td>
<td>No</td>
<td>TRUE</td>
</tr>
<tr>
<td><strong>podmon</strong></td>
<td>Podmon is an optional feature under development and tech preview. Enable this feature only after contact support for additional information</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>enabled</td>
<td></td>
<td>No</td>
<td>FALSE</td>
</tr>
</tbody>
</table>
<ol start="11">
<li>Install the driver using <code>csi-install.sh</code> bash script by running <code>cd ../dell-csi-helm-installer &amp;&amp; ./csi-install.sh --namespace vxflexos --values ../helm/myvalues.yaml</code></li>
</ol>
<p><em>NOTE:</em></p>
<ul>
<li>For detailed instructions on how to run the install scripts, refer to the README.md  in the dell-csi-helm-installer folder.</li>
<li>This script runs <code>verify-csi-vxflexos.sh</code> script that is present in the same directory. It will validate MDM IP(s) in <code>vxflexos-config</code> secret and creates a new field consumed by init container and sdc-monitor container</li>
<li>This script also runs the <code>verify.sh</code> script. You will be prompted to enter the credentials for each of the Kubernetes nodes.
The <code>verify.sh</code> script needs the credentials to check if SDC has been configured on all nodes.</li>
<li>It is mandatory to run the first installation and installation after changes to MDM configuration in <code>vxflexos-config</code> secret
<strong>without</strong> skipping the verification. After that you can use <code>--skip-verify-node</code> or <code>--skip-verify</code> .</li>
<li>(Optional) Enable additional Mount Options - A user is able to specify additional mount options as needed for the driver.
<ul>
<li>Mount options are specified in storageclass yaml under <em>mountOptions</em>.</li>
<li><em>WARNING</em>: Before utilizing mount options, you must first be fully aware of the potential impact and understand your environment&rsquo;s requirements for the specified option.</li>
</ul>
</li>
</ul>
<h2 id="storage-classes">Storage Classes</h2>
<p>Starting in CSI PowerFlex v1.4, <code>dell-csi-helm-installer</code> will not create any storage classes as part of the driver installation. A wide set of annotated storage class manifests have been provided in the <code>helm/samples</code> folder. Please use these samples to create new storage classes to provision storage. See this <a href="../../../../v1/installation/helm/powermax/">note</a> for the driving reason behind this change.</p>
<h3 id="what-happens-to-my-existing-storage-classes">What happens to my existing storage classes?</h3>
<p><em>Upgrading from CSI PowerFlex v1.4 driver</em>
The storage classes created as part of the installation have an annotation - &ldquo;helm.sh/resource-policy&rdquo;: keep set. This ensures that even after an uninstall or upgrade, the storage classes are not deleted. You can continue using these storage classes if you wish so.</p>
<p><em>Upgrading from an older version of the driver</em>
The storage classes will be deleted if you upgrade the driver. If you wish to continue using those storage classes, you can patch them and apply the annotation &ldquo;helm.sh/resource-policy&rdquo;: keep before performing an upgrade.</p>
<p><em>NOTE:</em> If you continue to use the old storage classes, you may not be able to take advantage of any new storage class parameter supported by the driver.</p>
<p><strong>Steps to create storage class:</strong>
There are samples storage class yaml files available under <code>helm/samples/storageclass</code>.  These can be copied and modified as needed.</p>
<ol>
<li>Edit <code>storageclass.yaml</code> if you need ext4 filesystem and <code>storageclass-xfs.yaml</code> if you want xfs filesystem</li>
<li>Replace <code>&lt;STORAGE_POOL&gt;</code> with the storage pool you have</li>
<li>Replace <code>&lt;SYSTEM_ID&gt;</code> with the system ID you have. Note there are two appearances in the file</li>
<li>Edit <code>storageclass.kubernetes.io/is-default-class</code> to true if you want to set it as default, otherwise false.</li>
<li>Save the file and create it by using <code>kubectl create -f storageclass.yaml</code> or <code>kubectl create -f storageclass-xfs.yaml</code></li>
</ol>
<p><em>NOTE</em>:</p>
<ul>
<li>At least one storage class is required for one array.</li>
<li>If you uninstall the driver and reinstall it, you can still face errors if any update in the <code>values.yaml</code> file leads to an update of the storage class(es):</li>
</ul>
<pre><code>    Error: cannot patch &quot;&lt;sc-name&gt;&quot; with kind StorageClass: StorageClass.storage.k8s.io &quot;&lt;sc-name&gt;&quot; is invalid: parameters: Forbidden: updates to parameters are forbidden
</code></pre><p>In case you want to make such updates, ensure to delete the existing storage classes using the <code>kubectl delete storageclass</code> command.<br>
Deleting a storage class has no impact on a running Pod with mounted PVCs. You will not be able to provision new PVCs until at least one storage class is newly created.</p>

	
	

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/dell/storage-plugin-docs">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://dellcustomer.slack.com/archives/C01CY517PU4">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 The Dell Technologies All Rights Reserved</small>
        <small class="ml-1"><a href="https://www.dell.com/learn/us/en/uscorp1/policies-privacy" target="_blank">Privacy Policy</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/storage-plugin-docs/js/main.min.664f21bf5eb0c31ebc661e2616e6c63e0448cec6d5636d869957be423c3cb952.js" integrity="sha256-Zk8hv16wwx68Zh4mFubGPgRIzsbVY22GmVe&#43;Qjw8uVI=" crossorigin="anonymous"></script>



  </body>
</html>