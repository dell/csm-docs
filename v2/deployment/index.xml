<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dell Technologies â€“ Deployment</title>
    <link>https://dell.github.io/csm-docs/v2/deployment/</link>
    <description>Recent content in Deployment on Dell Technologies</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://dell.github.io/csm-docs/v2/deployment/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V2: CSM Operator</title>
      <link>https://dell.github.io/csm-docs/v2/deployment/csmoperator/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/deployment/csmoperator/</guid>
      <description>
        
        
        

&lt;div class=&#34;pageinfo pageinfo-primary&#34;&gt;
&lt;p&gt;The Dell Container Storage Modules Operator Operator is currently in tech-preview and is not supported in production environments. It can be used in environments where no other Dell CSI Drivers or CSM Modules are installed.&lt;/p&gt;

&lt;/div&gt;

&lt;p&gt;The Dell Container Storage Modules Operator Operator is a Kubernetes Operator, which can be used to install and manage the CSI Drivers and CSM Modules provided by Dell for various storage platforms. This operator is available as a community operator for upstream Kubernetes and can be deployed using OperatorHub.io. The operator can be installed using OLM (Operator Lifecycle Manager) or manually.&lt;/p&gt;
&lt;h2 id=&#34;supported-platforms&#34;&gt;Supported Platforms&lt;/h2&gt;
&lt;p&gt;Dell CSM Operator has been tested and qualified on Upstream Kubernetes and OpenShift. Supported versions are listed below.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Kubernetes Version&lt;/th&gt;
&lt;th&gt;OpenShift Version&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1.22, 1.23, 1.24&lt;/td&gt;
&lt;td&gt;4.9, 4.10, 4.10 EUS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;supported-csi-drivers&#34;&gt;Supported CSI Drivers&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;CSI Driver&lt;/th&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;ConfigVersion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CSI PowerScale&lt;/td&gt;
&lt;td&gt;2.2.0 +&lt;/td&gt;
&lt;td&gt;v2.2.0  +&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;supported-csm-modules&#34;&gt;Supported CSM Modules&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;CSM Modules&lt;/th&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;ConfigVersion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CSM Authorization&lt;/td&gt;
&lt;td&gt;1.2.0 +&lt;/td&gt;
&lt;td&gt;v1.2.0 +&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSM Authorization&lt;/td&gt;
&lt;td&gt;1.3.0 +&lt;/td&gt;
&lt;td&gt;v1.3.0 +&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;
&lt;p&gt;Dell CSM Operator can be installed manually or via Operator Hub.&lt;/p&gt;
&lt;h3 id=&#34;manual-installation&#34;&gt;Manual Installation&lt;/h3&gt;
&lt;h4 id=&#34;operator-installation-on-a-cluster-without-olm&#34;&gt;Operator Installation on a cluster without OLM&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Clone the &lt;a href=&#34;https://github.com/dell/csm-operator&#34;&gt;Dell CSM Operator repository&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd csm-operator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;(Optional) If using a local Docker image, edit the &lt;code&gt;deploy/operator.yaml&lt;/code&gt; file and set the image name for the CSM Operator Deployment.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;bash scripts/install.sh&lt;/code&gt; to install the operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: Dell CSM Operator will be installed in the &lt;code&gt;dell-csm-operator&lt;/code&gt; namespace.&lt;/p&gt;
&lt;/blockquote&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/install_hu65a008b76338bb66f6abc1e8679a223d_170165_2500x0_resize_q75_catmullrom.jpg&#34; width=&#34;2500&#34; height=&#34;1252&#34;&gt;
	
&lt;/figure&gt;

&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Run the command &lt;code&gt;kubectl get pods -n dell-csm-operator&lt;/code&gt; to validate the installation. If installed successfully, you should be able to see the operator pod in the &lt;code&gt;dell-csm-operator&lt;/code&gt; namespace.&lt;/li&gt;
&lt;/ol&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/install_pods_hu22d1b56e0d1995d45d1947c2987829d0_116545_2500x0_resize_q75_catmullrom.jpg&#34; width=&#34;2500&#34; height=&#34;785&#34;&gt;
	
&lt;/figure&gt;

&lt;h4 id=&#34;operator-installation-on-a-cluster-with-olm&#34;&gt;Operator Installation on a cluster with OLM&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Clone the &lt;a href=&#34;https://github.com/dell/csm-operator&#34;&gt;Dell CSM Operator repository&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd csm-operator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;bash scripts/install_olm.sh&lt;/code&gt; to install the operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: Dell CSM Operator will get installed in the &lt;code&gt;test-csm-operator-olm&lt;/code&gt; namespace.&lt;/p&gt;
&lt;/blockquote&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/install_olm_hu2eedd74f931e8260c860feb0c72f1e62_182304_2500x0_resize_q75_catmullrom.jpg&#34; width=&#34;2500&#34; height=&#34;1022&#34;&gt;
	
&lt;/figure&gt;

&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Once installation completes, run the command &lt;code&gt;kubectl get pods -n test-csm-operator-olm&lt;/code&gt; to validate the installation. If installed successfully, you should be able to see the operator pods and CSV in the &lt;code&gt;test-csm-operator-olm&lt;/code&gt; namespace. The CSV phase will be in &lt;code&gt;Succeeded&lt;/code&gt; state.&lt;/li&gt;
&lt;/ol&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/install_olm_pods_huda4520e12712062a7cd7a9d2b5385714_107093_2500x0_resize_q75_catmullrom.jpg&#34; width=&#34;2500&#34; height=&#34;487&#34;&gt;
	
&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: The recommended version of OLM for upstream Kubernetes is &lt;strong&gt;&lt;code&gt;v0.18.3&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;installation-via-operator-hub&#34;&gt;Installation via Operator Hub&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;dell-csm-operator&lt;/code&gt; can be installed via Operator Hub on upstream Kubernetes clusters &amp;amp; Red Hat OpenShift Clusters.&lt;/p&gt;
&lt;p&gt;The installation process involves the creation of a &lt;code&gt;Subscription&lt;/code&gt; object either via the &lt;em&gt;OperatorHub&lt;/em&gt; UI or using &lt;code&gt;kubectl/oc&lt;/code&gt;. While creating the &lt;code&gt;Subscription&lt;/code&gt; you can set the Approval strategy for the &lt;code&gt;InstallPlan&lt;/code&gt; for the operator to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Automatic&lt;/em&gt; - If you want the operator to be automatically installed or upgraded (once an upgrade is available).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Manual&lt;/em&gt; - If you want a cluster administrator to manually review and approve the &lt;code&gt;InstallPlan&lt;/code&gt; for installation/upgrades.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;uninstall&#34;&gt;Uninstall&lt;/h3&gt;
&lt;h4 id=&#34;operator-uninstallation-on-a-cluster-without-olm&#34;&gt;Operator uninstallation on a cluster without OLM&lt;/h4&gt;
&lt;p&gt;To uninstall a CSM operator, run &lt;code&gt;bash scripts/uninstall.sh&lt;/code&gt;. This will uninstall the operator in &lt;code&gt;dell-csm-operator&lt;/code&gt; namespace.&lt;/p&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/uninstall_hu709274147079b066148e855aef0845a9_110286_2500x0_resize_q75_catmullrom.JPG&#34; width=&#34;2500&#34; height=&#34;738&#34;&gt;
	
&lt;/figure&gt;

&lt;h4 id=&#34;operator-uninstallation-on-a-cluster-with-olm&#34;&gt;Operator uninstallation on a cluster with OLM&lt;/h4&gt;
&lt;p&gt;To uninstall a CSM operator installed with OLM run &lt;code&gt;bash scripts/uninstall_olm.sh&lt;/code&gt;. This will uninstall the operator in  &lt;code&gt;test-csm-operator-olm&lt;/code&gt; namespace.&lt;/p&gt;







&lt;figure class=&#34;card rounded p-2 td-post-card mb-4 mt-4&#34; style=&#34;max-width: 2510px&#34;&gt;
	&lt;img class=&#34;card-img-top&#34; src=&#34;https://dell.github.io/csm-docs/csm-docs/v2/deployment/csmoperator/uninstall_olm_huffe5566d5d7fb4af320bc708dd65cfbb_46203_2500x0_resize_q75_catmullrom.JPG&#34; width=&#34;2500&#34; height=&#34;504&#34;&gt;
	
&lt;/figure&gt;

&lt;h3 id=&#34;to-upgrade-dell-csm-operator-perform-the-following-steps&#34;&gt;To upgrade Dell CSM Operator, perform the following steps.&lt;/h3&gt;
&lt;p&gt;Dell CSM Operator can be upgraded in 2 ways:&lt;/p&gt;
&lt;p&gt;1.Using script (for non-OLM based installation)&lt;/p&gt;
&lt;p&gt;2.Using Operator Lifecycle Manager (OLM)&lt;/p&gt;
&lt;h4 id=&#34;using-installation-script&#34;&gt;Using Installation Script&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Clone the &lt;a href=&#34;https://github.com/dell/csm-operator&#34;&gt;Dell CSM Operator repository&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd csm-operator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;git checkout -b &amp;lsquo;csm-operator-version&amp;rsquo;&lt;/li&gt;
&lt;li&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;  . This command will install the latest version of the operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSM Operator would install to the &amp;lsquo;dell-csm-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;using-olm&#34;&gt;Using OLM&lt;/h4&gt;
&lt;p&gt;The upgrade of the Dell CSM Operator is done via Operator Lifecycle Manager.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Update approval&lt;/code&gt; (&lt;strong&gt;&lt;code&gt;InstallPlan&lt;/code&gt;&lt;/strong&gt; in OLM terms) strategy plays a role while upgrading dell-csm-operator on OpenShift. This option can be set during installation of dell-csm-operator on OpenShift via the console and can be either set to &lt;code&gt;Manual&lt;/code&gt; or &lt;code&gt;Automatic&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If the &lt;strong&gt;&lt;code&gt;Update approval&lt;/code&gt;&lt;/strong&gt; is set to &lt;code&gt;Automatic&lt;/code&gt;, OpenShift automatically detects whenever the latest version of dell-csm-operator is available in the &lt;strong&gt;&lt;code&gt;Operator hub&lt;/code&gt;&lt;/strong&gt;, and upgrades it to the latest available version.&lt;/li&gt;
&lt;li&gt;If the upgrade policy is set to &lt;code&gt;Manual&lt;/code&gt;, OpenShift notifies of an available upgrade. This notification can be viewed by the user in the &lt;strong&gt;&lt;code&gt;Installed Operators&lt;/code&gt;&lt;/strong&gt; section of the OpenShift console. Clicking on the hyperlink to &lt;code&gt;Approve&lt;/code&gt; the installation would trigger the dell-csm-operator upgrade process.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: The recommended version of OLM for Upstream Kubernetes is &lt;strong&gt;&lt;code&gt;v0.18.3&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;h3 id=&#34;custom-resource-definitions&#34;&gt;Custom Resource Definitions&lt;/h3&gt;
&lt;p&gt;As part of the Dell CSM Operator installation, a CRD representing configuration for the CSI Driver and CSM Modules is also installed.&lt;br&gt;
&lt;code&gt;containerstoragemodule&lt;/code&gt; CRD is installed in API Group &lt;code&gt;storage.dell.com&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Drivers and modules can be installed by creating a &lt;code&gt;customResource&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;custom-resource-specification&#34;&gt;Custom Resource Specification&lt;/h3&gt;
&lt;p&gt;Each CSI Driver and CSM Module installation is represented by a Custom Resource.&lt;/p&gt;
&lt;p&gt;The specification for the Custom Resource is the same for all the drivers.Below is a list of all the mandatory and optional fields in the Custom Resource specification&lt;/p&gt;
&lt;h4 id=&#34;mandatory-fields&#34;&gt;Mandatory fields&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;configVersion&lt;/strong&gt; - Configuration version - refer &lt;a href=&#34;#supported-csi-drivers&#34;&gt;here&lt;/a&gt; for appropriate config version.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;replicas&lt;/strong&gt;  - Number of replicas for controller plugin - must be set to 1 for all drivers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;dnsPolicy&lt;/strong&gt; - Determines the dnsPolicy for the node daemonset. Accepted values are &lt;code&gt;Default&lt;/code&gt;, &lt;code&gt;ClusterFirst&lt;/code&gt;, &lt;code&gt;ClusterFirstWithHostNet&lt;/code&gt;, &lt;code&gt;None&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;common&lt;/strong&gt; - This field is mandatory and is used to specify common properties for both controller and the node plugin.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;image - driver container image&lt;/li&gt;
&lt;li&gt;imagePullPolicy - Image Pull Policy of the driver image&lt;/li&gt;
&lt;li&gt;envs - List of environment variables and their values&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;optional-fields&#34;&gt;Optional fields&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;controller&lt;/strong&gt; - List of environment variables and values which are applicable only for controller.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;node&lt;/strong&gt; - List of environment variables and values which are applicable only for node.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;sideCars&lt;/strong&gt; - Specification for CSI sidecar containers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;authSecret&lt;/strong&gt; - Name of the secret holding credentials for use by the driver. If not specified, the default secret *-creds must exist in the same namespace as driver.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tlsCertSecret&lt;/strong&gt; - Name of the TLS cert secret for use by the driver. If not specified, a secret *-certs must exist in the namespace as driver.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tolerations&lt;/strong&gt; - List of tolerations which should be applied to the driver StatefulSet/Deployment and DaemonSet. It should be set separately in the controller and node sections if you want separate set of tolerations for them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;nodeSelector&lt;/strong&gt; - Used to specify node selectors for the driver StatefulSet/Deployment and DaemonSet.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The &lt;code&gt;image&lt;/code&gt; field should point to the correct image tag for version of the driver you are installing.&lt;/p&gt;
&lt;/blockquote&gt;

      </description>
    </item>
    
  </channel>
</rss>
